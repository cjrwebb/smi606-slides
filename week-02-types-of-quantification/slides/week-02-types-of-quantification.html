<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>SMI606: Week 2 — Types of quantification</title>
    <meta charset="utf-8" />
    <meta name="author" content="Calum Webb" />
    <meta name="date" content="2023-07-21" />
    <script src="week-02-types-of-quantification_files/header-attrs/header-attrs.js"></script>
    <link href="week-02-types-of-quantification_files/tile-view/tile-view.css" rel="stylesheet" />
    <script src="week-02-types-of-quantification_files/tile-view/tile-view.js"></script>
    <link href="week-02-types-of-quantification_files/panelset/panelset.css" rel="stylesheet" />
    <script src="week-02-types-of-quantification_files/panelset/panelset.js"></script>
    <script src="week-02-types-of-quantification_files/xaringanExtra-progressBar/progress-bar.js"></script>
    <link href="week-02-types-of-quantification_files/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script src="week-02-types-of-quantification_files/clipboard/clipboard.min.js"></script>
    <link href="week-02-types-of-quantification_files/shareon/shareon.min.css" rel="stylesheet" />
    <script src="week-02-types-of-quantification_files/shareon/shareon.min.js"></script>
    <link href="week-02-types-of-quantification_files/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="week-02-types-of-quantification_files/xaringanExtra-shareagain/shareagain.js"></script>
    <script src="week-02-types-of-quantification_files/mark.js/mark.min.js"></script>
    <link href="week-02-types-of-quantification_files/xaringanExtra-search/search.css" rel="stylesheet" />
    <script src="week-02-types-of-quantification_files/xaringanExtra-search/search.js"></script>
    <script>window.addEventListener('load', function() { window.xeSearch = new RemarkSearch({"position":"bottom-left","caseSensitive":false,"showIcon":true,"autoSearch":false}) })</script>
    <script src="week-02-types-of-quantification_files/jquery/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="week-02-types-of-quantification_files/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <script src="week-02-types-of-quantification_files/bootstrap/js/bootstrap.min.js"></script>
    <script src="week-02-types-of-quantification_files/bootstrap/shim/html5shiv.min.js"></script>
    <script src="week-02-types-of-quantification_files/bootstrap/shim/respond.min.js"></script>
    <style>h1 {font-size: 34px;}
           h1.title {font-size: 38px;}
           h2 {font-size: 30px;}
           h3 {font-size: 24px;}
           h4 {font-size: 18px;}
           h5 {font-size: 16px;}
           h6 {font-size: 12px;}
           code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
           pre:not([class]) { background-color: white }</style>
    <script src="week-02-types-of-quantification_files/htmlwidgets/htmlwidgets.js"></script>
    <script src="week-02-types-of-quantification_files/formattable_widget-binding/formattable_widget.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="css/custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


class: middle
background-size: contain

&lt;br&gt;&lt;br&gt;

# .tuos_purple[SMI606: Week 2&lt;br&gt;Types of quantification]

&lt;br&gt;&lt;br&gt;

**Dr. Calum Webb**&lt;br&gt;
Sheffield Methods Institute, the University of Sheffield.&lt;br&gt;
[c.j.webb@sheffield.ac.uk](mailto:c.j.webb@sheffield.ac.uk)





<div>
<style type="text/css">.xaringan-extra-logo {
width: 180px;
height: 128px;
z-index: 0;
background-image: url(header/smi-logo-white.png);
background-size: contain;
background-repeat: no-repeat;
position: absolute;
top:1em;right:2em;
}
</style>
<script>(function () {
  let tries = 0
  function addLogo () {
    if (typeof slideshow === 'undefined') {
      tries += 1
      if (tries < 10) {
        setTimeout(addLogo, 100)
      }
    } else {
      document.querySelectorAll('.remark-slide-content:not(.inverse):not(.hide_logo)')
        .forEach(function (slide) {
          const logo = document.createElement('div')
          logo.classList = 'xaringan-extra-logo'
          logo.href = null
          slide.appendChild(logo)
        })
    }
  }
  document.addEventListener('DOMContentLoaded', addLogo)
})()</script>
</div>




<style>.panelset{--panel-tab-background: #F8F8F8;--panel-tab-active-background: #F8F8F8;--panel-tab-hover-background: #F8F8F8;}</style>

<style>.xe__progress-bar__container {
  top:0;
  opacity: 1;
  position:absolute;
  right:0;
  left: 0;
}
.xe__progress-bar {
  height: 0.25em;
  background-color: #F8F8F8;
  width: calc(var(--slide-current) / var(--slide-total) * 100%);
}
.remark-visible .xe__progress-bar {
  animation: xe__progress-bar__wipe 200ms forwards;
  animation-timing-function: cubic-bezier(.86,0,.07,1);
}
@keyframes xe__progress-bar__wipe {
  0% { width: calc(var(--slide-previous) / var(--slide-total) * 100%); }
  100% { width: calc(var(--slide-current) / var(--slide-total) * 100%); }
}</style>









---
class: middle

.pull-right[

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

# Sign In

]
---
class: middle

## Learning Objectives

.panelset[

.panel[.panel-name[What will I learn?]

By the end of this week you will:

* Be able to identify different variables using the continuous/ordinal/categorical typology.

* Be able to relate these variable types to variable classes in `R`.

* Know how a range of descriptive statistics can be used to summarise and simplify large amounts of data, and which ones to use for different types of variable.

* Be able to produce descriptive statistics and basic visualisations of different types of variables using `R`.

]

.panel[.panel-name[How does this week fit into my course?]

* Being able to interpret summary and descriptive statistics is a key skill in quantitative social science, with the first table of any research paper often being a table describing all variables.

* Social researchers regularly make use of descriptive statistics and visualisations to inform their analytical approach.

* Visualising distributions is an important part of checking for outliers, errors, and violated assumptions in statistical modelling. 

]


]



???



---
class: middle
background-color: white

.center[
&lt;img src="images/continuous_discrete.png" width="60%" /&gt;
]

*Illustration by Allison Horst*

---
class: middle

## Continuous and discrete variables in `R`

Continuous and discrete variables are largely handled through the __numeric__ class that we saw in last week's practical.


```r
continuous &lt;- c(1.00735, 2.0873, 9.328, 12.4747)
class(continuous)
```

```
## [1] "numeric"
```


```r
discrete &lt;- c(1, 2, 3, 4)
class(discrete)
```

```
## [1] "numeric"
```

--


However, `R` does have a class of variable with specific functionality for discrete data: integer.


```r
as.integer(continuous)
```

```
## [1]  1  2  9 12
```


---
class: middle 
background-color: white

.center[
&lt;img src="images/nominal_ordinal_binary.png" width="80%" /&gt;
]

*Illustration by Allison Horst*

---

class: middle

## Nominal, Ordinal, and Binary Variables in `R`

There are multiple different ways to handle these kinds of variables in `R`. You can use simple character variables for nominal and binary variables:


```r
nominal &lt;- c("turtle", "snail", "butterfly")
class(nominal)
```

```
## [1] "character"
```

---

class: middle

## Nominal, Ordinal, and Binary Variables in `R`

You can use ordered factors for ordinal variables...


```r
ordinal &lt;- factor(c("unhappy", "ok", "awesome"), levels = c("unhappy", "ok", "awesome"),
                  ordered = TRUE)
print(ordinal)
```

```
## [1] unhappy ok      awesome
## Levels: unhappy &lt; ok &lt; awesome
```

```r
class(ordinal)
```

```
## [1] "ordered" "factor"
```

--

... or simply make a numeric variable that corresponds to their character labels.


```r
tibble(label = c("unhappy", "ok", "awesome"), numeric_val = c(1, 2, 3))
```

```
## # A tibble: 3 × 2
##   label   numeric_val
##   &lt;chr&gt;         &lt;dbl&gt;
## 1 unhappy           1
## 2 ok                2
## 3 awesome           3
```

---

class: middle

## Nominal, Ordinal, and Binary Variables in `R`

And lastly, we could store our binary variables as either numeric (identified by 0 = false or 1 = true); character; factor; or logical variables...


```r
binary_num &lt;- c(1, 0)
binary_chr &lt;- c("extinct", "not extinct")
binary_fct &lt;- factor(c("extinct", "not extinct"), levels = c("not extinct", "extinct"))
binary_lgc &lt;- c(TRUE, FALSE)

tibble(binary_num, binary_chr, binary_fct, binary_lgc)
```

```
## # A tibble: 2 × 4
##   binary_num binary_chr  binary_fct  binary_lgc
##        &lt;dbl&gt; &lt;chr&gt;       &lt;fct&gt;       &lt;lgl&gt;     
## 1          1 extinct     extinct     TRUE      
## 2          0 not extinct not extinct FALSE
```

---
class: middle

## Why do we need to know 'types' of variable?

### .tuos_purple[The kinds of statistical methods and data visualisations we need to use depends on the type of variable we are analysing/visualising.]

### .tuos_purple[Knowing this will also help us know how we need to tidy our data in `R` before we can analyse it.]


---
class: middle, inverse



.pull-left[

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

### .tuos_blue[Univariate Descriptive Statistics]&lt;br&gt;.tuos_purple[Measures of Central Tendency]

* Summarising data using the most frequent response.

]

.pull-right[

#### How do we effectively communicate this?
 
Percentage of children in poverty
 

```
##   [1] 10.4 15.1 22.8 30.7 14.7  8.9 15.3 20.6
##   [9] 11.4 10.7 14.5 16.4 22.2 20.3 21.1 12.1
##  [17] 11.8 23.9 28.3 12.4 18.0  3.2 29.8 24.2
##  [25] 19.6 18.9 32.7 15.0 27.4 18.3 12.4 17.4
##  [33] 29.8 20.8 20.3 20.2 16.0 25.6  7.2 12.0
##  [41] 14.7 10.4 20.5 19.2 20.9 25.7 14.9 21.3
##  [49] 18.6 21.9 13.2  8.7 10.2  6.7  5.6 10.0
##  [57] 14.3 15.1 15.0 13.6 21.9 15.4  8.9 10.9
##  [65] 23.8 12.6 22.5 19.9 19.7  9.9 16.4 16.0
##  [73] 27.6  8.8 20.4 21.9 16.1 22.5 12.2 12.9
##  [81] 18.2  8.9  8.6 13.1  9.5 15.5 13.0 25.5
##  [89] 16.9 19.6 12.2 19.3 17.2 14.7 14.9 15.4
##  [97] 12.2 10.8 13.0 10.5 20.2 10.7  6.1 12.0
## [105]  7.1 14.8 16.4 18.1  8.3 21.8  6.9 15.6
## [113] 18.5 11.9 13.7 10.1  8.7 22.7 19.4 20.6
## [121] 16.6  8.3 10.4  7.7  7.6 22.0 11.1 13.2
## [129] 15.0 19.3  8.5  8.7  6.9 22.5 12.4  7.3
## [137] 17.1 13.6  7.6 20.1 20.1 14.0 10.9 20.4
## [145] 13.8 17.4 15.8 17.2 24.8 21.2  8.4 24.9
## [153]  8.6 18.6  6.7 20.8 18.6  6.7 12.3  5.5
## [161] 26.5 18.5 16.0 10.8 12.2 15.7 11.0  6.6
## [169] 17.0 10.7 21.9 19.0 27.5 12.9 15.2 15.9
## [177] 10.0 17.7 30.3 22.9 17.5 20.3 12.8 22.9
## [185] 11.2 23.1 29.9 13.4 11.8 12.8 29.7 21.2
## [193] 10.6 12.3 13.4 11.6  9.8  6.5  6.4 10.8
```


]

---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;br&gt;

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-11-1.png" width="100%" /&gt;

---

class: middle

## Side note: How did I create this plot?


```r
idaci %&gt;% # My data
  ggplot() + # start up ggplot
  geom_histogram(aes(x = idaci), col = "grey20", fill = "transparent") + # create a histogram
  theme_minimal() + # make a nice background
  xlab("Income Deprivation Affecting Children Index (% in low income)") + # Add an x axis label
  ylab("Frequency") # add a y axis label
```


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;br&gt;

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-13-1.png" width="100%" /&gt;


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;br&gt;

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-14-1.png" width="100%" /&gt;


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;br&gt;



&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-16-1.png" width="100%" /&gt;



---

class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]



&lt;br&gt;&lt;br&gt;


```r
library(modeest) # Package for calculating the mode

hse_cleaned %&gt;%
  summarise(
    height_mean =   mean(htval,    na.rm = TRUE), # Height
    topqual3_mode = mfv(topqual3,  na.rm = TRUE), # Qualifications
    eqvinc_mean =   mean(eqvinc,   na.rm = TRUE), # Income
    eqvinc_median = median(eqvinc, na.rm = TRUE)  # Income
            )
```

```
## # A tibble: 1 × 4
##   height_mean topqual3_mode    eqvinc_mean eqvinc_median
##         &lt;dbl&gt; &lt;fct&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
## 1        168. No qualification      33274.        23443.
```

---

class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;br&gt;&lt;br&gt;


```r
library(modeest)

hse_cleaned %&gt;%
  summarise(
*   height_mean =   mean(htval,    na.rm = TRUE), # Height
    topqual3_mode = mfv(topqual3,  na.rm = TRUE), # Qualifications
    eqvinc_mean =   mean(eqvinc,   na.rm = TRUE), # Income
    eqvinc_median = median(eqvinc, na.rm = TRUE)  # Income
            )
```

```
## # A tibble: 1 × 4
##   height_mean topqual3_mode    eqvinc_mean eqvinc_median
##         &lt;dbl&gt; &lt;fct&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
## 1        168. No qualification      33274.        23443.
```

---

class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;br&gt;&lt;br&gt;


```r
library(modeest)

hse_cleaned %&gt;%
  summarise(
    height_mean =   mean(htval,    na.rm = TRUE), # Height 
*   topqual3_mode = mfv(topqual3,  na.rm = TRUE), # Qualifications
    eqvinc_mean =   mean(eqvinc,   na.rm = TRUE), # Income
    eqvinc_median = median(eqvinc, na.rm = TRUE)  # Income
            )
```

```
## # A tibble: 1 × 4
##   height_mean topqual3_mode    eqvinc_mean eqvinc_median
##         &lt;dbl&gt; &lt;fct&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
## 1        168. No qualification      33274.        23443.
```

---

class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;br&gt;&lt;br&gt;


```r
library(modeest)

hse_cleaned %&gt;%
  summarise(
    height_mean =   mean(htval,    na.rm = TRUE), # Height 
    topqual3_mode = mfv(topqual3,  na.rm = TRUE), # Qualifications 
*   eqvinc_mean =   mean(eqvinc,   na.rm = TRUE), # Income
    eqvinc_median = median(eqvinc, na.rm = TRUE)  # Income
            )
```

```
## # A tibble: 1 × 4
##   height_mean topqual3_mode    eqvinc_mean eqvinc_median
##         &lt;dbl&gt; &lt;fct&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
## 1        168. No qualification      33274.        23443.
```

---

class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;br&gt;&lt;br&gt;


```r
library(modeest)

hse_cleaned %&gt;%
  summarise(
    height_mean =   mean(htval,    na.rm = TRUE), # Height 
    topqual3_mode = mfv(topqual3,  na.rm = TRUE), # Qualifications 
    eqvinc_mean =   mean(eqvinc,   na.rm = TRUE), # Income 
*   eqvinc_median = median(eqvinc, na.rm = TRUE)  # Income
            )
```

```
## # A tibble: 1 × 4
##   height_mean topqual3_mode    eqvinc_mean eqvinc_median
##         &lt;dbl&gt; &lt;fct&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
## 1        168. No qualification      33274.        23443.
```

---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-22-1.png" width="100%" /&gt;

---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-23-1.png" width="100%" /&gt;

---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-24-1.png" width="100%" /&gt;

---
class: inverse, middle


## When a continuous/integer variable is normally distributed, the mean, median, and mode should all agree.


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency]

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-25-1.png" width="100%" /&gt;

---
class: middle
background-color: white

&lt;img src="images/summary_statistics.png" width="80%" /&gt;

---
class: inverse, middle


## When a continuous/integer variable is not normally distributed (for example, if it is skewed), the mean, median, and mode will often not align and some will not end up on the 'most likely value'. 

## This is why it's always important to visualise your data.

---
class: middle

.pull-left[

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

### .tuos_blue[Univariate Descriptive Statistics]&lt;br&gt;.tuos_purple[Measures of Central Tendency]

* Summarising data using the most frequent response: categorical and ordinal variables.

]

.pull-right[

#### How do we effectively communicate this?

Self-rated health
 

```
##  [1] 3. Good/Very Good 3. Good/Very Good 3. Good/Very Good 1. Bad/Very Bad  
##  [5] 3. Good/Very Good 3. Good/Very Good 3. Good/Very Good 3. Good/Very Good
##  [9] 3. Good/Very Good 3. Good/Very Good 2. Fair           3. Good/Very Good
## [13] 1. Bad/Very Bad   3. Good/Very Good 3. Good/Very Good 3. Good/Very Good
## [17] 3. Good/Very Good 2. Fair           1. Bad/Very Bad   3. Good/Very Good
## [21] 3. Good/Very Good 3. Good/Very Good 1. Bad/Very Bad   1. Bad/Very Bad  
## [25] 2. Fair           3. Good/Very Good 3. Good/Very Good 2. Fair          
## [29] 2. Fair           2. Fair           2. Fair           2. Fair          
## [33] 3. Good/Very Good 3. Good/Very Good 2. Fair           3. Good/Very Good
## [37] 3. Good/Very Good 3. Good/Very Good 2. Fair           1. Bad/Very Bad  
## [41] 2. Fair           2. Fair           3. Good/Very Good 3. Good/Very Good
## [45] 3. Good/Very Good 3. Good/Very Good 2. Fair           3. Good/Very Good
## [49] 3. Good/Very Good 1. Bad/Very Bad  
## Levels: 1. Bad/Very Bad 2. Fair 3. Good/Very Good
```


]


---

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency/Summary Statistics]

.middle-left[

#### What about nominal/categorical variables?

1. For more than two categories, we can still use the mode.

2. .grey[For two categories stored as a logical variable (a binary variable), we can use the mean to calculate the proportion of each category.]

3. .grey[We can use this same logic to create the proportion of all possible options in the categories (your typical percentages).]

]

.pull-right[




```r
mfv(hse_cleaned$econact, na.rm = TRUE)
```

```
## [1] In employment
## 10 Levels: Refused ... Other economically inactive
```


]

???

Categorical/Ordinal variables

---

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency/Summary Statistics]

.middle-left[

#### What about nominal/categorical variables?

1. .grey[For more than two categories, we can still use the mode.]

2. For two categories stored as a logical variable (a binary variable), we can use the mean to calculate the proportion of each category.

3. .grey[We can use this same logic to create the proportion of all possible options in the categories (your typical percentages).]

]

.pull-right[




```r
hse_cleaned &lt;- hse_cleaned %&gt;%
  mutate(
    employed_lgc = ifelse(
      test = employed == "1. Employed", 
      yes = TRUE, 
      no = FALSE)
  )

mean(hse_cleaned$employed_lgc, na.rm = TRUE)
```

```
## [1] 0.545562
```


]

???

Categorical/Ordinal variables

---


## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency/Summary Statistics]

.middle-left[

#### What about nominal/categorical variables?

1. .grey[For more than two categories, we can still use the mode.]

2. .grey[For two categories stored as a logical variable (a binary variable), we can use the mean to calculate the proportion of each category.]

3. We can use this same logic to create the proportion of all possible options in the categories (your typical percentages).

]

.pull-right[



```r
options(width = 40)

hse_cleaned %&gt;%
  sjmisc::to_dummy("econact", 
                   suffix = "label") %&gt;%
  janitor::clean_names() %&gt;%
  summarise_all(~mean(., na.rm = TRUE))
```

```
##   econact_in_employment
## 1              0.545562
##   econact_ilo_unemployed
## 1             0.04443919
##   econact_retired
## 1       0.2676989
##   econact_other_economically_inactive
## 1                              0.1423
```


]

---

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency/Summary Statistics]

.middle-left[

#### What about nominal/categorical variables?

1. For more than two categories, we can still use the mode.

2. For two categories stored as a logical variable (a binary variable), we can use the mean to calculate the proportion of each category.

3. We can use this same logic to create the proportion of all possible options in the categories (your typical percentages).

]

.pull-right[


&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-33-1.png" width="500" height="450" /&gt;


]


---

class: middle

## Aside: How did I create this bar plot in R?


```r
hse_cleaned %&gt;% # my data
  ggplot(aes(econact)) + # the variable I want to create a bar plot of
  geom_bar(aes(y = ..count../sum(..count..), fill = econact)) + # bar plot as a percentage
  scale_y_continuous(labels=scales::percent_format()) + # formatting my axis as percentages
  theme_minimal() + # change the theme to one I think looks nice
  coord_flip() + # make it a horizontal bar plot
  ylab("Percentage of Survey Sample") + # an informative y label
  theme(legend.position = "none") # hide the legend it creates by default
```


---

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency/Summary Statistics]

.middle-left[

#### What about nominal/categorical variables?

1. .grey[For more than two categories, we can still use the mode.]

2. .grey[For two categories stored as a logical variable (a binary variable), we can use the mean to calculate the proportion of each category.]

3. .grey[We can use this same logic to create the proportion of all possible options in the categories (your typical percentages).]

4. Alternatively, we can use a simple table of __frequency counts__ — best practice is usually to show **both** frequency counts **and** percentages, in case our sample is small.

]

.pull-right[





```r
library(janitor)

tabyl(hse_cleaned$econact_s) %&gt;% 
  adorn_rounding(digits = 3)
```

```
##  hse_cleaned$econact_s    n percent
##               Employed 4616   0.543
##               Inactive 1204   0.142
##                Retired 2265   0.266
##                   &lt;NA&gt;  418   0.049
##  valid_percent
##          0.571
##          0.149
##          0.280
##             NA
```


]


---

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency/Summary Statistics]

.middle-left[

#### What about nominal/categorical variables?

1. .grey[For more than two categories, we can still use the mode.]

2. .grey[For two categories stored as a logical variable (a binary variable), we can use the mean to calculate the proportion of each category.]

3. .grey[We can use this same logic to create the proportion of all possible options in the categories (your typical percentages).]

4. Alternatively, we can use a simple table of __frequency counts__ — best practice is usually to show **both** frequency counts **and** percentages, in case our sample is small.

]

.pull-right[


&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-37-1.png" width="500" height="450" /&gt;


]


---


class: middle

## Aside: How did I create this bar plot in R?


```r
hse_cleaned %&gt;%
  ggplot(aes(econact)) +
  geom_bar(aes(y = ..count.., fill = econact)) + # no longer a percentage
  theme_minimal() +
  coord_flip() +
  ylab("Frequency") +
  theme(legend.position = "none")
```


---

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency/Summary Statistics]

.middle-left[

#### What about ordinal variables?

1. You can still use the mean, but it is unlikely to give a 'valid' value.

2. You can use the median for the numeric equivalent for the value.

3. You can use the mode for either the character equivalent or the numeric equivalent.

]

.pull-right[


```r
hse_cleaned %&gt;%
  mutate(
    health_nm = as.numeric(health)
  ) %&gt;%
  summarise(
    health_mean = mean(health_nm, 
                       na.rm = TRUE),
    health_med = median(health_nm, 
                       na.rm = TRUE),
    health_mfv = mfv(health,
                     na.rm = TRUE)
  )
```

```
## # A tibble: 1 × 3
##   health_mean health_med health_mfv     
##         &lt;dbl&gt;      &lt;dbl&gt; &lt;fct&gt;          
## 1        2.67          3 3. Good/Very G…
```

```r
unique(hse_cleaned$health)
```

```
## [1] 3. Good/Very Good 1. Bad/Very Bad  
## [3] 2. Fair           &lt;NA&gt;             
## 3 Levels: 1. Bad/Very Bad ... 3. Good/Very Good
```

]
 
---

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency/Summary Statistics]

.middle-left[

#### What about ordinal variables?

1. You can still use the mean, but it is unlikely to give a 'valid' value.

2. You can use the median for the numeric equivalent for the value.

3. You can use the mode for either the character equivalent or the numeric equivalent.

]

.pull-right[

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-40-1.png" width="500" height="450" /&gt;


]



---

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Central Tendency/Summary Statistics]

.middle-left[

#### What about ordinal variables?

1. .grey[You can still use the mean, but it is unlikely to give a 'valid' value.]

2. .grey[You can use the median for the numeric equivalent for the value.]

3. .grey[You can use the mode for either the character equivalent or the numeric equivalent.]

4. As before, a table is also an appropriate way to summarise the variable.

]

.pull-right[


```r
tabyl(hse_cleaned$health) %&gt;% 
  adorn_rounding(digits = 3)
```

```
##  hse_cleaned$health    n percent
##     1. Bad/Very Bad  620   0.073
##             2. Fair 1588   0.187
##   3. Good/Very Good 6288   0.740
##                &lt;NA&gt;    7   0.001
##  valid_percent
##          0.073
##          0.187
##          0.740
##             NA
```


]





---

class: inverse

.pull-left[

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

### .tuos_blue[Univariate Descriptive Statistics]&lt;br&gt;.tuos_purple[Measures of Dispersion]

* We've summarised the most likely outcomes: but how can we effectively describe the range of responses in continuous data?

]

.pull-right[

#### How do we effectively communicate the variation?
 
Percentage of children in poverty
 

```
##   [1] 10.4 15.1 22.8 30.7 14.7  8.9 15.3 20.6
##   [9] 11.4 10.7 14.5 16.4 22.2 20.3 21.1 12.1
##  [17] 11.8 23.9 28.3 12.4 18.0  3.2 29.8 24.2
##  [25] 19.6 18.9 32.7 15.0 27.4 18.3 12.4 17.4
##  [33] 29.8 20.8 20.3 20.2 16.0 25.6  7.2 12.0
##  [41] 14.7 10.4 20.5 19.2 20.9 25.7 14.9 21.3
##  [49] 18.6 21.9 13.2  8.7 10.2  6.7  5.6 10.0
##  [57] 14.3 15.1 15.0 13.6 21.9 15.4  8.9 10.9
##  [65] 23.8 12.6 22.5 19.9 19.7  9.9 16.4 16.0
##  [73] 27.6  8.8 20.4 21.9 16.1 22.5 12.2 12.9
##  [81] 18.2  8.9  8.6 13.1  9.5 15.5 13.0 25.5
##  [89] 16.9 19.6 12.2 19.3 17.2 14.7 14.9 15.4
##  [97] 12.2 10.8 13.0 10.5 20.2 10.7  6.1 12.0
## [105]  7.1 14.8 16.4 18.1  8.3 21.8  6.9 15.6
## [113] 18.5 11.9 13.7 10.1  8.7 22.7 19.4 20.6
## [121] 16.6  8.3 10.4  7.7  7.6 22.0 11.1 13.2
## [129] 15.0 19.3  8.5  8.7  6.9 22.5 12.4  7.3
## [137] 17.1 13.6  7.6 20.1 20.1 14.0 10.9 20.4
## [145] 13.8 17.4 15.8 17.2 24.8 21.2  8.4 24.9
## [153]  8.6 18.6  6.7 20.8 18.6  6.7 12.3  5.5
## [161] 26.5 18.5 16.0 10.8 12.2 15.7 11.0  6.6
## [169] 17.0 10.7 21.9 19.0 27.5 12.9 15.2 15.9
## [177] 10.0 17.7 30.3 22.9 17.5 20.3 12.8 22.9
## [185] 11.2 23.1 29.9 13.4 11.8 12.8 29.7 21.2
## [193] 10.6 12.3 13.4 11.6  9.8  6.5  6.4 10.8
```


]


---

class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]

&lt;br&gt;

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-44-1.png" width="100%" /&gt;

???

Distribution, std deviation 

---

class: middle


## .tuos_purple[If a variable is approximately normally distributed we can describe its dispersion around the mean using 'standard deviation'.]


```r
sd(idaci$idaci)
```

```
## [1] 5.977357
```

---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-46-1.png" width="100%" /&gt;

---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-47-1.png" width="100%" /&gt;


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-48-1.png" width="100%" /&gt;

---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-49-1.png" width="100%" /&gt;


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]

&lt;br&gt;

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-50-1.png" width="100%" /&gt;

---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]

&lt;br&gt;

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-51-1.png" width="100%" /&gt;



---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]

&lt;br&gt;

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-52-1.png" width="100%" /&gt;


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]

&lt;br&gt;

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-53-1.png" width="100%" /&gt;


---

class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]


```r
# Mean = ~15
# Standard deviation = ~6

idaci %&gt;%
    mutate(
    idaci_1sd = ifelse(idaci &gt; (15-(1*6)) &amp; idaci &lt; (15+(1*6)), TRUE, FALSE),
    idaci_2sd = ifelse(idaci &gt; (15-(2*6)) &amp; idaci &lt; (15+(2*6)), TRUE, FALSE),
    idaci_3sd = ifelse(idaci &gt; (15-(3*6)) &amp; idaci &lt; (15+(3*6)), TRUE, FALSE)
  )
```

```
## # A tibble: 317 × 5
##    lad    idaci idaci_1sd idaci_2sd idaci_3sd
##    &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt;     &lt;lgl&gt;     &lt;lgl&gt;    
##  1 Bath …  10.4 TRUE      TRUE      TRUE     
##  2 Bedfo…  15.1 TRUE      TRUE      TRUE     
##  3 Black…  22.8 FALSE     TRUE      TRUE     
##  4 Black…  30.7 FALSE     FALSE     TRUE     
##  5 Bourn…  14.7 TRUE      TRUE      TRUE     
##  6 Brack…   8.9 FALSE     TRUE      TRUE     
##  7 Brigh…  15.3 TRUE      TRUE      TRUE     
##  8 Brist…  20.6 TRUE      TRUE      TRUE     
##  9 Centr…  11.4 TRUE      TRUE      TRUE     
## 10 Chesh…  10.7 TRUE      TRUE      TRUE     
## # ℹ 307 more rows
```


---

class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion]


```r
# Mean = ~15
# Standard deviation = ~6

idaci %&gt;%
    mutate(
    idaci_1sd = ifelse(idaci &gt; (15-(1*6)) &amp; idaci &lt; (15+(1*6)), TRUE, FALSE),
    idaci_2sd = ifelse(idaci &gt; (15-(2*6)) &amp; idaci &lt; (15+(2*6)), TRUE, FALSE),
    idaci_3sd = ifelse(idaci &gt; (15-(3*6)) &amp; idaci &lt; (15+(3*6)), TRUE, FALSE)
  ) %&gt;%
  summarise_all(
    ~mean(., na.rm = TRUE)
  )
```

```
## # A tibble: 1 × 5
##     lad idaci idaci_1sd idaci_2sd idaci_3sd
##   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1    NA  15.3     0.650     0.962         1
```

#### The Empirical Rule states that within __1 standard deviation__ should be approx __68%__ of observations, within __2 standard deviations__ should be around __95%__ of observations, within __3 standard deviations__ should be around __99.7%__ of observations.

---

class: inverse, middle

### However, we know from the example of income we saw before that sometimes variables are not normally distributed. How can we summarise their distribution?


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion: Quantiles]

So what happens if we use the empirical rule with non-normally distributed data?

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-56-1.png" width="100%" /&gt;


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion: Quantiles]

So what happens if we use the empirical rule with non-normally distributed data?

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-57-1.png" width="100%" /&gt;


---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion: Quantiles]

Instead of relying on the Empirical Rule, we can use **quantiles/percentiles** to describe any arbitrary range of our data. 


```r
# Default quantiles
quantile(hse_cleaned$eqvinc, na.rm = TRUE)
```

```
##          0%         25%         50% 
##    271.0843  14300.0000  23442.6230 
##         75%        100% 
##  43624.1611 262295.0820
```

By default, this gives us a minimum, maximum, and "quartiles". This means, for instance, we can tell that 50% of our data lies between £14,300 (the 25th percentile) and £43,624 (the 75th percentile) .grey[because there are 50 percentiles between 25 and 75].



---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion: Quantiles]

If we wanted a 95% range we would want to take the 2.5th percentile and the 97.5th percentile (as a probability, this would be 0.025 and 0.975). We can do this by editing our quantiles function. 


```r
# Default quantiles
quantile(hse_cleaned$eqvinc, probs = c(0.025, 0.975), na.rm = TRUE)
```

```
##     2.5%    97.5% 
##   4062.5 115000.0
```

It's useful to provide both quartiles (25th &amp; 75th) and deciles (10th and 90th) to give an idea of a common range and an extreme range.

--
class: middle

.pull-left[
.center[&lt;br&gt;&lt;br&gt;Quantiles can be used for any kind of continuous data. But you should always plot your continuous data as a histogram because it might have yet stranger features (like bimodal distributions!)]
]

.pull-right[

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-60-1.png" width="300" height="200" style="display: block; margin: auto;" /&gt;

]

---
class: middle

## Univariate Descriptive Statistics&lt;br&gt;.tuos_purple[Measures of Dispersion: Quantiles]

Here are the results if we used quantiles set at pr = 0.025 and pr = 97.5 (95% central distribution of the data)

&lt;img src="week-02-types-of-quantification_files/figure-html/unnamed-chunk-61-1.png" width="100%" /&gt;


---

class: middle

<div id="htmlwidget-4b01bd0ca50ae62aac5d" class="formattable_widget html-widget " style="width:100%;height:252px;" width="100%" height="252"></div>
<script type="application/json" data-for="htmlwidget-4b01bd0ca50ae62aac5d">{"x":{"html":"<table class=\"table table-condensed\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Variable Type <\/th>\n   <th style=\"text-align:right;\"> Central Tendency <\/th>\n   <th style=\"text-align:right;\"> Dispersion <\/th>\n   <th style=\"text-align:right;\"> Data Vis <\/th>\n  <\/tr>\n <\/thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"font-weight: bold\">Nominal   <\/span> <\/td>\n   <td style=\"text-align:right;\"> Percentage of Each Value<br>Frequency Counts<br>janitor::tabyl() <\/td>\n   <td style=\"text-align:right;\"> Percentage of Each Value<br>Frequency Counts<br>janitor::tabyl() <\/td>\n   <td style=\"text-align:right;\"> Bar Chart<br>geom_bar()/barplot() <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"font-weight: bold\">Ordinal   <\/span> <\/td>\n   <td style=\"text-align:right;\"> Percentage of Each Value<br>Frequency Counts<br>janitor::tabyl()<br>Means/Median/Mode<br>mean(), median(), modeest::mfv() <\/td>\n   <td style=\"text-align:right;\"> Percentage of Each Value<br>Frequency Counts<br>janitor::tabyl() <\/td>\n   <td style=\"text-align:right;\"> Bar Chart<br>geom_bar()/barplot() <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"font-weight: bold\">Continuous<\/span> <\/td>\n   <td style=\"text-align:right;\"> Mean/Median/Mode<br>mean(), median(), modeest::mfv() <\/td>\n   <td style=\"text-align:right;\"> Standard Deviation +<br>Empirical Rule (if approx normally distributed)<br>sd()<br>Quantiles/Percentiles<br>quantile() <\/td>\n   <td style=\"text-align:right;\"> Histogram<br>geom_histogram()/hist() <\/td>\n  <\/tr>\n<\/tbody>\n<\/table>"},"evals":[],"jsHooks":[]}</script>



---
class: middle





## Week 2 `R` Exercises

* Today we will be using a different kind of tutorial using an Rmarkdown document. Check the files below the lecture slides in Week 2 under the learning materials menu.

* __Follow the worksheet__ to learn how to calculate univariate descriptive statistics and visualise single variables in `R` using a few different methods.

* If you finish the tutorial with a lot of time remaining, __try out the Week 2 challenge__! Make sure you finish this workbook and the challenge, as well as your required reading in your own independent study time!
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "github",
"highlightLines": true,
"sealed": false,
"ratio": "16:9",
"self_contained": true,
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<style>
.my-header {
	background-color: #440099;
	position: fixed;
	top: 0px;
	left: 0px;
	height: 70px;
	width: 100%;
	text-align: left;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.inverse)' +
    // add additional classes to exclude here, e.g.
    // ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="my-header"></div>';
  });
</script>


<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
